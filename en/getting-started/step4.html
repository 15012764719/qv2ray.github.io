<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring Browsers / Software to Use Qv2ray | Qv2ray</title>
    <meta name="description" content="Make v2ray real cross-platform">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.59ba12ca.css" as="style"><link rel="preload" href="/assets/js/app.d1a27fdf.js" as="script"><link rel="preload" href="/assets/js/2.7e671a15.js" as="script"><link rel="preload" href="/assets/js/14.2556bb60.js" as="script"><link rel="prefetch" href="/assets/js/10.87afbd34.js"><link rel="prefetch" href="/assets/js/11.8ef9c56b.js"><link rel="prefetch" href="/assets/js/12.74afe375.js"><link rel="prefetch" href="/assets/js/13.52958769.js"><link rel="prefetch" href="/assets/js/15.0c66d0b6.js"><link rel="prefetch" href="/assets/js/16.d86bfa50.js"><link rel="prefetch" href="/assets/js/17.bd30ecd2.js"><link rel="prefetch" href="/assets/js/18.1ea54488.js"><link rel="prefetch" href="/assets/js/19.0440a6f0.js"><link rel="prefetch" href="/assets/js/20.e2d8e589.js"><link rel="prefetch" href="/assets/js/21.bf3108c0.js"><link rel="prefetch" href="/assets/js/22.28b2f773.js"><link rel="prefetch" href="/assets/js/23.d931e95e.js"><link rel="prefetch" href="/assets/js/24.47c56906.js"><link rel="prefetch" href="/assets/js/25.db6e16f8.js"><link rel="prefetch" href="/assets/js/26.350e30ef.js"><link rel="prefetch" href="/assets/js/27.17eba731.js"><link rel="prefetch" href="/assets/js/28.7f31e9e2.js"><link rel="prefetch" href="/assets/js/29.9fba1cdc.js"><link rel="prefetch" href="/assets/js/3.1da5e203.js"><link rel="prefetch" href="/assets/js/4.51469ff8.js"><link rel="prefetch" href="/assets/js/5.3796a780.js"><link rel="prefetch" href="/assets/js/6.f04f1e6a.js"><link rel="prefetch" href="/assets/js/7.3eaa9b67.js"><link rel="prefetch" href="/assets/js/8.41c20d7b.js"><link rel="prefetch" href="/assets/js/9.4943ee65.js">
    <link rel="stylesheet" href="/assets/css/0.styles.59ba12ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/logo.png" alt="Qv2ray" class="logo"> <span class="site-name can-hide">Qv2ray</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/getting-started/" class="nav-link router-link-active">
  Getting Started
</a></div><div class="nav-item"><a href="/en/manual/" class="nav-link">
  Manual
</a></div><div class="nav-item"><a href="/en/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/en/hacking/" class="nav-link">
  Hacking
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/getting-started/step4.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/getting-started/step4.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/Qv2ray/Qv2ray" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/getting-started/" class="nav-link router-link-active">
  Getting Started
</a></div><div class="nav-item"><a href="/en/manual/" class="nav-link">
  Manual
</a></div><div class="nav-item"><a href="/en/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/en/hacking/" class="nav-link">
  Hacking
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/getting-started/step4.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/getting-started/step4.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/Qv2ray/Qv2ray" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/en/getting-started/" class="sidebar-link">Getting Started</a></li><li><a href="/en/getting-started/step1.html" class="sidebar-link">Getting Qv2ray Distribution</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/getting-started/step1.html#github-release-binary-file" class="sidebar-link">GitHub Release Binary File</a></li><li class="sidebar-sub-header"><a href="/en/getting-started/step1.html#github-actions-artifact" class="sidebar-link">GitHub Actions Artifact</a></li><li class="sidebar-sub-header"><a href="/en/getting-started/step1.html#getting-from-package-control" class="sidebar-link">Getting From Package Control</a></li><li class="sidebar-sub-header"><a href="/en/getting-started/step1.html#getting-from-app-stores" class="sidebar-link">Getting from App Stores</a></li><li class="sidebar-sub-header"><a href="/en/getting-started/step1.html#building-from-source" class="sidebar-link">Building From Source</a></li></ul></li><li><a href="/en/getting-started/step2.html" class="sidebar-link">Configuring V2Ray Core</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/getting-started/step2.html#download-v2ray-core-files" class="sidebar-link">Download V2Ray Core Files</a></li><li class="sidebar-sub-header"><a href="/en/getting-started/step2.html#place-your-v2ray-core" class="sidebar-link">Place Your V2Ray Core</a></li><li class="sidebar-sub-header"><a href="/en/getting-started/step2.html#configure-qv2ray-to-use-the-core" class="sidebar-link">Configure Qv2ray to Use the Core</a></li></ul></li><li><a href="/en/getting-started/step3.html" class="sidebar-link">Importing Hosts into Qv2ray</a></li><li><a href="/en/getting-started/step4.html" class="active sidebar-link">Configuring Browsers / Software to Use Qv2ray</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/getting-started/step4.html#linux" class="sidebar-link">Linux</a></li></ul></li><li><a href="/en/getting-started/step5.html" class="sidebar-link">Further Steps</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="step-4-configuring-browsers-software-to-use-qv2ray"><a href="#step-4-configuring-browsers-software-to-use-qv2ray" class="header-anchor">#</a> Step 4: Configuring Browsers / Software to Use Qv2ray</h1> <p>Configurations differs from platform to platform.</p> <h2 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h2> <h3 id="configure-through-environment-variables"><a href="#configure-through-environment-variables" class="header-anchor">#</a> Configure through Environment Variables</h3> <p>Many a program in Linux, for example, <code>curl</code> and <code>wget</code>, will use the proxies given by <code>&lt;PROTOCOL&gt;_PROXY</code> environment variable.</p> <p>Here is a configuration example:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># Change the host and port according to Qv2ray inbound configuration</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HTTP_PROXY</span><span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:8000&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HTTPS_PROXY</span><span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:8000&quot;</span>
</code></pre></div><p>If authentication is enabled in Qv2ray, use the following settings:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># Change user/pass according to your configuration</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HTTP_PROXY</span><span class="token operator">=</span><span class="token string">&quot;http://user:pass@127.0.0.1:8000&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HTTPS_PROXY</span><span class="token operator">=</span><span class="token string">&quot;http://user:pass@127.0.0.1:8000&quot;</span>
</code></pre></div><p>Note that if there is a special character in your username or password, you need to encode it. Here's a quick reference:</p> <table><thead><tr><th><code>!</code></th> <th><code>#</code></th> <th><code>$</code></th> <th><code>&amp;</code></th> <th><code>'</code></th> <th><code>(</code></th> <th><code>)</code></th> <th><code>*</code></th> <th><code>+</code></th> <th><code>,</code></th> <th><code>/</code></th> <th><code>:</code></th> <th><code>;</code></th> <th><code>=</code></th> <th><code>?</code></th> <th><code>@</code></th> <th><code>[</code></th> <th><code>]</code></th></tr></thead> <tbody><tr><td><code>%21</code></td> <td><code>%23</code></td> <td><code>%24</code></td> <td><code>%26</code></td> <td><code>%27</code></td> <td><code>%28</code></td> <td><code>%29</code></td> <td><code>%2A</code></td> <td><code>%2B</code></td> <td><code>%2C</code></td> <td><code>%2F</code></td> <td><code>%3A</code></td> <td><code>%3B</code></td> <td><code>%3D</code></td> <td><code>%3F</code></td> <td><code>%40</code></td> <td><code>%5B</code></td> <td><code>%5D</code></td></tr></tbody></table> <p>For programs running in <code>sudo</code>, it is required to configure <code>sudo</code> to preserve these variables if you do not run <code>sudo</code> in a shell. Call <code>visudo</code> with root and add the following line:</p> <div class="language- extra-class"><pre class="language-text"><code>Defaults env_keep += &quot;HTTP_PROXY HTTPS_PROXY&quot;
</code></pre></div><p>Still, there are some programs who are using their own variables. For example, <code>rsync</code> uses <code>RSYNC_PROXY</code> for HTTP proxies:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">RSYNC_PROXY</span><span class="token operator">=</span>user:pass@127.0.0.1:8000
</code></pre></div><p>It is strongly recommended to read the manual of programs that you want to configure proxy with.</p> <h3 id="configure-manually-in-applications"><a href="#configure-manually-in-applications" class="header-anchor">#</a> Configure Manually in Applications</h3> <p>Some applications support manually configuration of proxies. Taking Firefox as example, you may fill HTTP/SOCKS5 Inbound from Qv2ray into Preferences -&gt; General -&gt; Network -&gt; Manual Proxy Configuration.</p> <p>Besides, you may use a third-party plugin (for example, SwitchyOmega) to implement a more sophisticated configuration, which may includes further traffic diversion or direct pass.</p> <p>For Java applications, you may use configure proxies through <code>java</code>. Here's an example:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># For HTTP Proxies</span>
java -Dhttp.proxyHost<span class="token operator">=</span><span class="token number">127.0</span>.0.1 -Dhttp.proxyPort<span class="token operator">=</span><span class="token number">8000</span> -Dhttps.proxyHost<span class="token operator">=</span><span class="token number">127.0</span>.0.1 -Dhttps.proxyPort<span class="token operator">=</span><span class="token number">8000</span> <span class="token operator">&lt;</span>your java command<span class="token operator">&gt;</span>

<span class="token comment"># For SOCKS5 Proxies</span>
java -DsocksProxyHost<span class="token operator">=</span><span class="token number">127.0</span>.0.1 -DsocksProxyPort<span class="token operator">=</span><span class="token number">1088</span> <span class="token operator">&lt;</span>your java command<span class="token operator">&gt;</span>
</code></pre></div><p>For <code>ssh</code> or <code>scp</code>, you may configure proxies through <code>socat</code>:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">ssh</span> -o <span class="token string">&quot;ProxyCommand=socat - PROXY:localhost:%h:%p,proxyport=8000&quot;</span> user@remotehost
</code></pre></div><h3 id="configure-through-gnome-settings"><a href="#configure-through-gnome-settings" class="header-anchor">#</a> Configure through GNOME Settings</h3> <p>Currently, automated configuration of proxies for GNOME applications is already supported by Qv2ray. For some applications such as Firefox and Chromium, they will read and obey the proxy configurations in GNOME Settings. Simply restart these applications for the settings to take effect.</p> <h3 id="configure-through-proxychains"><a href="#configure-through-proxychains" class="header-anchor">#</a> Configure through <code>proxychains</code></h3> <p>For those applications that does not work with the methods above, you may have a try with <code>proxychains</code>, which hijacks functions in <code>glibc</code> to redirect network connections into your proxies.</p> <p>First, you should install <code>proxychains-ng</code>. Installation methods varies with each operating system, but the <a href="https://github.com/rofl0r/proxychains-ng" target="_blank" rel="noopener noreferrer">official repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> shall give you an instruction.</p> <p>Edit <code>/etc/proxychains.conf</code> (for global proxychains) or <code>$HOME/.proxychains/proxychains.conf</code> (for user), edit <code>[ProxyList]</code> section and change the proxy to SOCKS5 Proxy in Qv2ray:</p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token selector">[ProxyList]</span>
socks5  127.0.0.1  1088
</code></pre></div><p>After configuring <code>proxychains</code>, you may use <code>proxychains &lt;program&gt;</code> in terminal to make <code>proxychains</code> hijack the program to use the given proxy. If you are fed up with the noisy output, you may append <code>-q</code> option after <code>proxychains</code>.</p> <p>One thing to note is that <code>proxychains</code> does not work with statically-linked programs, for example, Golang programs.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Qv2ray/qv2ray.github.io/edit/master/en/getting-started/step4.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/getting-started/step3.html" class="prev">
        Importing Hosts into Qv2ray
      </a></span> <span class="next"><a href="/en/getting-started/step5.html">
        Further Steps
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d1a27fdf.js" defer></script><script src="/assets/js/2.7e671a15.js" defer></script><script src="/assets/js/14.2556bb60.js" defer></script>
  </body>
</html>
